# About the AdaptiveCards website

The https://adaptivecards.io site is entirely static-generated HTML using NodeJS and Hexo. It uses other files in the repo to help build out the site, like the JSON-schema file, and sample card payloads.

* **Documentation** is hosted on the [MicrosoftDocs/AdaptiveCards](https://github.com/MicrosoftDocs/AdaptiveCards) repo. The Card Schema and Host Config schema pages can be generated by the tool in this site
* **Schema Explorer** is built from the [JSON-Schama file](../../../schemas/adaptive-cards.json). Any schema explorer or docs updates must be made here to keep the schema and site in sync.
* **Samples** page is built from the [Samples/v1.0/Scenarios folder](../../../samples/v1.*/scenarios). Any payloads added here will automatically get added to the Samples page of the site.
* **Designer** is built from the `../adaptivecards-designer` project 
* **Blog** is built from the `./pages/_posts` directory (see [BLOGGING.md](./BLOGGING.md))
* **Visualizer** is built from the `../adaptivecards-visualizer` project 
  
## Source files for generating the site

* `pages` - any markdown blog posts or pages, these get rendered as HTML on generate
* `themes/adaptivecards` - the source code for generating the site. It uses nodejs
    * `source` - any raw content added to the genated output (CSS, JS, images, etc)
    * `scripts` - these scripts run on the dev box and control the generated output.
        * `generator-*.js` - control how each page is generated. For example: `generator-samples.js` builds the samples.html page
    * `layout` - the HTML templates for the pages and partials
* `_config.yml` - config for the site, like the top-level menu, etc
* `schema-explorer-toc.yml` - generates the "Table of Contents" left-nav for the Schema Explorer pages
* `schema-hostconfig-toc.yml` - generates the "Table of Contents" left-nav for the Host Config pages (Not working yet)
* `public` - output location from `hexo generate` - this is the wwwroot of the site

## Authoring Blog Posts

See [BLOGGING.md](./BLOGGING.md)

## The Microsoft Universal Header/Footer

Microsoft properties have a standard header/footer that is provided by the UHF API. Any updates to the header or footer should also be updated in the UHF. See the Team OneNote for this process (search UFH).

* [Get UHF HTML + CSS + Script here](https://uhf.microsoft.com/en-US/shell/xml/UHFPortal?headerId=MSDocsHeader-AdaptiveCards&footerid=UHFPortalFooter)
    * `head.ejs` CSS and JS includes
    * `header.ejs` has a manual copy-paste of the HTML

## Install and Build

### Install Hexo

[Hexo](https://hexo.io/) is the static-site-generator used to build the site.

```console
npm install hexo-cli -g
```

### Build

```console
npm install
```

### Generate

```console
npm run build
```

### Run

```console
npm start
```
